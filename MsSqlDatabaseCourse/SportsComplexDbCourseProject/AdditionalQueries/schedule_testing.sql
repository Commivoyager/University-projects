----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
-- Данные для расписаний. Не хватает тренеров
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------

----------------------------------------------------------------------
-- 1) Заполнение шаблонов расписания занятий [schedule_recurrence_pattern]
----------------------------------------------------------------------

IF EXISTS (SELECT 1 FROM dbo.schedule_recurrence_pattern)
BEGIN
    DELETE FROM dbo.schedule_recurrence_pattern;
    -- Сбросить identity-счётчик, чтобы новые srp_id начинались с 1
    DBCC CHECKIDENT ('dbo.schedule_recurrence_pattern', RESEED, 0);
END

INSERT INTO [schedule_recurrence_pattern] (
    [srp_activity],
    [srp_location],
    [srp_start_time],
    [srp_start_date],
    [srp_end_date],
    [srp_week_days],
    [srp_recurrence_type],
    [srp_recurrence_interval],
    [srp_start_interval],
    [srp_description]
) VALUES

--ERROR RECORD
    -- Футбольная тренировка (вторник и четверг 10:00)
    (1,  8, '10:00', '2025-05-01', NULL, 2 + 8, 2, 1, 0, N'Футбол: каждый вторник и четверг в 10:00'),
   
-- +
    -- Баскетбольная тренировка (понедельник, среда, пятница 18:00)
    (3, 26, '18:00', '2025-05-01', NULL, 1 + 4 + 16, 2, 1,0, N'Баскетбол: пн, ср, пт в 18:00'),
   
-- ERROR
   -- Йога (ежедневно 07:30)
    (5, 22, '07:30', '2025-05-01', NULL, 127, 1, 1, 0, N'Йога: ежедневно в 07:30'),
    -- Плавание (по месяцам, 1-го числа 08:00)
    (13, 13, '08:00', '2025-05-01', NULL, 0, 3, 1,0,  N'Плавание: каждый месяц 1-го числа в 08:00'),
    -- Бокс (каждый день 19:00)
    (15, 26, '19:00', '2025-05-01', NULL, 127, 1, 1, 0,  N'Бокс: ежедневно в 19:00'),
 
-- ERROR
    -- Пилатес (каждый четверг 07:30)
    (17, 22, '07:30', '2025-05-01', NULL, 8, 2, 1,0, N'Пилатес: чт в 07:30'),


-- +
    -- Скалолазание (каждую вторую субботу 14:00)
    (20, 20, '14:00', '2025-05-01', NULL, 32, 2, 2, 0, N'Скалолазание: каждые 2 недели в субботу в 14:00'),
    -- Боулдеринг (каждый понедельник 16:00)
    (21, 20, '16:00', '2025-05-01', NULL, 1, 2, 1, 0, N'Боулдеринг: каждый понедельник в 16:00');
GO

----------------------------------------------------------------------
-- 2) Заполнение шаблонов расписания тренеров [schedule_pattern_coach]
----------------------------------------------------------------------

IF EXISTS (SELECT 1 FROM dbo.schedule_pattern_coach)
BEGIN
    DELETE FROM dbo.schedule_pattern_coach;
    DBCC CHECKIDENT ('dbo.schedule_pattern_coach', RESEED, 0);
END

-- Для [srp_id] = 1 (Футбол), два шаблона разных «коучей»
INSERT INTO [schedule_pattern_coach] (
    [spc_schedule_pattern],
    [spc_coach],
    [spc_start_date],
    [spc_end_date],
    [spc_week_days],
    [spc_recurrence_type],
    [spc_recurrence_interval],
    [spc_start_interval],
    [spc_description]
) VALUES

--ERROR RECORD
    -- Иван Петров: каждый 3-й вторник
    ( 1, 1, '2025-05-01', NULL, 2, 2, 3, 0, N'Иван: каждый 3-й вторник на футболе'),
    -- Иван Петров: каждый 3-й четверг
    ( 1, 1, '2025-05-01', NULL, 8, 2, 3, 0, N'Иван: каждый 3-й четверг на футболе'),

-- +
    -- Для [srp_id] = 3 (Баскетбол)
    -- Мария Сидорова: каждую неделю в понедельник и среду
    ( 2, 2, '2025-05-01', NULL, 1 + 4, 2, 1, 0, N'Мария: пн, ср на баскетболе'),
    -- Мария Сидорова: каждую неделю в пятницу
    ( 2, 2, '2025-05-01', NULL, 16, 2, 1, 0, N'Мария: пт на баскетболе'),
    -- Для [srp_id] = 5 (Йога)
    -- Анна Мельникова: ежедневно
    ( 3, 8, '2025-05-01', NULL, 127, 1, 1, 0, N'Анна: ежедневно на йоге'),
    -- Для [srp_id] = 13 (Плавание)
    -- Александр Кузнецов: каждый месяц 1-го числа
    (4, 3, '2025-05-01', NULL, 0, 3, 1, 0, N'Александр: каждый 2-й месяц на плавании'),
    -- Для [srp_id] = 15 (Бокс)
    -- Сергей Лебедев: ежедневно
    (5, 7, '2025-05-01', NULL, 127, 1, 1, 0, N'Сергей: ежедневно на боксе'),

-- ERROR - демонстрация локаций - менять номер тренера
    -- Для [srp_id] = 17 (Пилатес)
    -- Анна Мельникова: вторник и четверг
    (6, 8, '2025-05-01', NULL, 2+8, 2, 1, 0, N'Анна: вт и чт на пилатесе'),

-- +
    -- Для [srp_id] = 20 (Скалолазание)
    -- Елена Морозова: каждую вторую субботу
    (7, 4, '2025-05-01', NULL, 32, 2, 2, 0, N'Елена: каждые 2 недели суббота на скалолазании'),

    -- Для [srp_id] = 21 (Боулдеринг)
    -- Елена Морозова: каждый понедельник
    (8, 4, '2025-05-01', NULL, 1, 2, 1, 0, N'Елена: пн на боулдеринге');
GO

----------------------------------------------------------------------
-- 3) Вывод всех данных из шаблонов
----------------------------------------------------------------------
SELECT * FROM [schedule_recurrence_pattern] ORDER BY [srp_id];
SELECT * FROM [schedule_pattern_coach]     ORDER BY [spc_id];